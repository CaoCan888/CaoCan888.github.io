<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://CaoCan888.github.io</id>
    <title>Gridea</title>
    <updated>2022-02-22T08:08:45.141Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://CaoCan888.github.io"/>
    <link rel="self" href="https://CaoCan888.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://CaoCan888.github.io/images/avatar.png</logo>
    <icon>https://CaoCan888.github.io/favicon.ico</icon>
    <rights>All rights reserved 2022, Gridea</rights>
    <entry>
        <title type="html"><![CDATA[## æ•°æ®åº“é…ç½®  ### ]]></title>
        <id>https://CaoCan888.github.io/post/shu-ju-ku-pei-zhi/</id>
        <link href="https://CaoCan888.github.io/post/shu-ju-ku-pei-zhi/">
        </link>
        <updated>2022-01-14T08:48:10.000Z</updated>
        <content type="html"><![CDATA[<h2 id="æ•°æ®åº“é…ç½®">æ•°æ®åº“é…ç½®</h2>
<h3 id="è§£å‹">è§£å‹</h3>
<pre><code>tar -xvf mysql-5.7.26-linux-glibc2.12-x86_64.tar 
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20190624183815169.png" alt="img" loading="lazy"></figure>
<h3 id="å†ç§»åŠ¨å¹¶é‡å‘½åä¸€ä¸‹">å†ç§»åŠ¨å¹¶é‡å‘½åä¸€ä¸‹</h3>
<pre><code>mv mysql-5.7.26-linux-glibc2.12-x86_64 /usr/local/mysql
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20190625103655295.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NTk4MDEx,size_16,color_FFFFFF,t_70" alt="img" loading="lazy"></figure>
<h3 id="åˆ›å»ºmysqlç”¨æˆ·ç»„å’Œç”¨æˆ·å¹¶ä¿®æ”¹æƒé™">åˆ›å»ºmysqlç”¨æˆ·ç»„å’Œç”¨æˆ·å¹¶ä¿®æ”¹æƒé™</h3>
<pre><code>groupadd mysql
useradd -r -g mysql mysql
</code></pre>
<h3 id="åˆ›å»ºæ•°æ®ç›®å½•å¹¶èµ‹äºˆæƒé™">åˆ›å»ºæ•°æ®ç›®å½•å¹¶èµ‹äºˆæƒé™</h3>
<pre><code>mkdir -p  /data/mysql              #åˆ›å»ºç›®å½•
chown mysql:mysql -R /data/mysql   #èµ‹äºˆæƒé™
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://img-blog.csdnimg.cn/20190625104034574.png" alt="img" loading="lazy"></figure>
<h3 id="é…ç½®mycnf">é…ç½®my.cnf</h3>
<pre><code>vim /etc/my.cnf
</code></pre>
<h4 id="å†…å®¹å¦‚ä¸‹">å†…å®¹å¦‚ä¸‹</h4>
<pre><code>[mysqld]
bind-address=0.0.0.0
port=3306
user=mysql
basedir=/usr/local/mysql
datadir=/data/mysql
socket=/tmp/mysql.sock
log-error=/data/mysql/mysql.err
pid-file=/data/mysql/mysql.pid
#character config
character_set_server=utf8mb4
symbolic-links=0
explicit_defaults_for_timestamp=true
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://img-blog.csdnimg.cn/20190625104818249.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NTk4MDEx,size_16,color_FFFFFF,t_70" alt="img" loading="lazy"></figure>
<h3 id="åˆå§‹åŒ–æ•°æ®åº“">åˆå§‹åŒ–æ•°æ®åº“</h3>
<h4 id="è¿›å…¥mysqlçš„binç›®å½•">è¿›å…¥mysqlçš„binç›®å½•</h4>
<pre><code>cd /usr/local/mysql/bin/
</code></pre>
<h4 id="åˆå§‹åŒ–">åˆå§‹åŒ–</h4>
<pre><code>./mysqld --defaults-file=/etc/my.cnf --basedir=/usr/local/mysql/ --datadir=/data/mysql/ --user=mysql --initialize
</code></pre>
<h4 id="æŸ¥çœ‹å¯†ç ">æŸ¥çœ‹å¯†ç </h4>
<pre><code>cat /data/mysql/mysql.err
</code></pre>
<figure data-type="image" tabindex="5"><img src="https://img-blog.csdnimg.cn/20190625105235465.png" alt="img" loading="lazy"></figure>
<h4 id="å¯åŠ¨mysqlå¹¶æ›´æ”¹root-å¯†ç ">å¯åŠ¨mysqlï¼Œå¹¶æ›´æ”¹root å¯†ç </h4>
<p>å…ˆå°†mysql.serveræ”¾ç½®åˆ°/etc/init.d/mysqlä¸­</p>
<pre><code>cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql
</code></pre>
<p>å¯åŠ¨ï¼ï¼ï¼</p>
<pre><code>service mysql start

ps -ef|grep mysql
</code></pre>
<figure data-type="image" tabindex="6"><img src="https://img-blog.csdnimg.cn/20190625105632551.png" alt="img" loading="lazy"></figure>
<p>åˆ°è¿™é‡Œè¯´æ˜mysqlå·²ç»å®‰è£…æˆåŠŸäº†ï¼ï¼</p>
<h4 id="ä¸‹é¢ä¿®æ”¹å¯†ç ">ä¸‹é¢ä¿®æ”¹å¯†ç </h4>
<p>é¦–å…ˆç™»å½•mysqlï¼Œå‰é¢çš„é‚£ä¸ªæ˜¯éšæœºç”Ÿæˆçš„ã€‚</p>
<pre><code>./mysql -u root -p   #binç›®å½•ä¸‹
</code></pre>
<p>å†æ‰§è¡Œä¸‹é¢ä¸‰æ­¥æ“ä½œï¼Œç„¶åé‡æ–°ç™»å½•ã€‚</p>
<pre><code>SET PASSWORD = PASSWORD('123456');
ALTER USER 'root'@'localhost' PASSWORD EXPIRE NEVER;
FLUSH PRIVILEGES;                                
</code></pre>
<p>è¿™æ—¶å€™ä½ å¦‚æœä½¿ç”¨è¿œç¨‹è¿æ¥â€¦â€¦ä½ ä¼šå‘ç°ä½ æ— æ³•è¿æ¥ã€‚</p>
<p>è¿™é‡Œä¸»è¦æ‰§è¡Œä¸‹é¢ä¸‰ä¸ªå‘½ä»¤(å…ˆç™»å½•æ•°æ®åº“)</p>
<pre><code>use mysql                                            #è®¿é—®mysqlåº“
update user set host = '%' where user = 'root';      #ä½¿rootèƒ½å†ä»»ä½•hostè®¿é—®
FLUSH PRIVILEGES;                                    #åˆ·æ–°
</code></pre>
<p>å¦‚æœä¸å¸Œæœ›æ¯æ¬¡éƒ½åˆ°binç›®å½•ä¸‹ä½¿ç”¨mysqlå‘½ä»¤åˆ™æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<pre><code>ln -s  /usr/local/mysql/bin/mysql    /usr/bin
</code></pre>
<h1 id="å¼€é€šé˜²ç«å¢™">å¼€é€šé˜²ç«å¢™</h1>
<h2 id="é˜²ç«å¢™firewall">é˜²ç«å¢™Firewall</h2>
<ul>
<li>å¼€å¯é˜²ç«å¢™ï¼š</li>
</ul>
<pre><code>systemctl start firewalld
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>å…³é—­é˜²ç«å¢™ï¼š</li>
</ul>
<pre><code>systemctl stop firewalld
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼š</li>
</ul>
<pre><code>systemctl status firewalld
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>è®¾ç½®å¼€æœºå¯åŠ¨ï¼š</li>
</ul>
<pre><code>systemctl enable firewalld
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>ç¦ç”¨å¼€æœºå¯åŠ¨ï¼š</li>
</ul>
<pre><code>systemctl disable firewalld
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>é‡å¯é˜²ç«å¢™ï¼š</li>
</ul>
<pre><code>firewall-cmd --reload
æˆ–è€…
systemctl restart firewalld.service

å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>å¼€æ”¾ç«¯å£ï¼ˆä¿®æ”¹åéœ€è¦é‡å¯é˜²ç«å¢™æ–¹å¯ç”Ÿæ•ˆï¼‰ï¼š</li>
</ul>
<pre><code>firewall-cmd --zone=public --add-port=3306/tcp --permanent
å¤åˆ¶ä»£ç 
</code></pre>
<figure data-type="image" tabindex="7"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/13/16b51180ea020d4a~tplv-t2oaga2asx-watermark.awebp" alt="å±•ç¤ºå›¾ç‰‡" loading="lazy"></figure>
<ul>
<li>æŸ¥çœ‹å¼€æ”¾çš„ç«¯å£ï¼š</li>
</ul>
<pre><code>firewall-cmd --list-ports
å¤åˆ¶ä»£ç 
</code></pre>
<figure data-type="image" tabindex="8"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/13/16b51180ea2ab29f~tplv-t2oaga2asx-watermark.awebp" alt="å±•ç¤ºå›¾ç‰‡" loading="lazy"></figure>
<ul>
<li>å…³é—­ç«¯å£ï¼š</li>
</ul>
<pre><code>firewall-cmd --zone=public --remove-port=8080/tcp --permanent
</code></pre>
<h2 id="iptables">Iptables</h2>
<h3 id="å®‰è£…">å®‰è£…</h3>
<blockquote>
<p>ç”±äºCenterOS7.0ä»¥ä¸Šç‰ˆæœ¬å¹¶æ²¡æœ‰é¢„è£…Iptables,æˆ‘ä»¬éœ€è¦è‡ªè¡Œè£…ã€‚</p>
</blockquote>
<ul>
<li>
<p>å®‰è£…å‰å…ˆå…³é—­firewallé˜²ç«å¢™</p>
<figure data-type="image" tabindex="9"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/13/16b51180ea6aae51~tplv-t2oaga2asx-watermark.awebp" alt="å±•ç¤ºå›¾ç‰‡" loading="lazy"></figure>
</li>
<li>
<p>å®‰è£…iptables:</p>
</li>
</ul>
<pre><code>yum install iptables
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>å®‰è£…iptables-services:</li>
</ul>
<pre><code>yum install iptables-services
å¤åˆ¶ä»£ç 
</code></pre>
<h3 id="ä½¿ç”¨">ä½¿ç”¨</h3>
<ul>
<li>å¼€å¯é˜²ç«å¢™ï¼š</li>
</ul>
<pre><code>systemctl start iptables.service
å¤åˆ¶ä»£ç 
</code></pre>
<figure data-type="image" tabindex="10"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/13/16b51180ea61e932~tplv-t2oaga2asx-watermark.awebp" alt="å±•ç¤ºå›¾ç‰‡" loading="lazy"></figure>
<ul>
<li>å…³é—­é˜²ç«å¢™ï¼š</li>
</ul>
<pre><code>systemctl stop iptables.service
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼š</li>
</ul>
<pre><code>systemctl status iptables.service
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>è®¾ç½®å¼€æœºå¯åŠ¨ï¼š</li>
</ul>
<pre><code>systemctl enable iptables.service
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>ç¦ç”¨å¼€æœºå¯åŠ¨ï¼š</li>
</ul>
<pre><code>systemctl disable iptables.service
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>æŸ¥çœ‹filterè¡¨çš„å‡ æ¡é“¾è§„åˆ™(INPUTé“¾å¯ä»¥çœ‹å‡ºå¼€æ”¾äº†å“ªäº›ç«¯å£)ï¼š</li>
</ul>
<pre><code>iptables -L -n
å¤åˆ¶ä»£ç 
</code></pre>
<figure data-type="image" tabindex="11"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/13/16b51180ea597ac9~tplv-t2oaga2asx-watermark.awebp" alt="å±•ç¤ºå›¾ç‰‡" loading="lazy"></figure>
<ul>
<li>æŸ¥çœ‹NATè¡¨çš„é“¾è§„åˆ™ï¼š</li>
</ul>
<pre><code>iptables -t nat -L -n
å¤åˆ¶ä»£ç 
</code></pre>
<figure data-type="image" tabindex="12"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/13/16b511810ad4af70~tplv-t2oaga2asx-watermark.awebp" alt="å±•ç¤ºå›¾ç‰‡" loading="lazy"></figure>
<ul>
<li>æ¸…é™¤é˜²ç«å¢™æ‰€æœ‰è§„åˆ™ï¼š</li>
</ul>
<pre><code>iptables -F
å¤åˆ¶ä»£ç 
iptables -X
å¤åˆ¶ä»£ç 
iptables -Z
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>ç»™INPUTé“¾æ·»åŠ è§„åˆ™ï¼ˆå¼€æ”¾8080ç«¯å£ï¼‰ï¼š</li>
</ul>
<pre><code>iptables -I INPUT -p tcp --dport 8080 -j ACCEPT
å¤åˆ¶ä»£ç 
</code></pre>
<figure data-type="image" tabindex="13"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/13/16b511810ae98aaf~tplv-t2oaga2asx-watermark.awebp" alt="å±•ç¤ºå›¾ç‰‡" loading="lazy"></figure>
<ul>
<li>æŸ¥æ‰¾è§„åˆ™æ‰€åœ¨è¡Œå·ï¼š</li>
</ul>
<pre><code>iptables -L INPUT --line-numbers -n
å¤åˆ¶ä»£ç 
</code></pre>
<figure data-type="image" tabindex="14"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/13/16b511810aeee047~tplv-t2oaga2asx-watermark.awebp" alt="å±•ç¤ºå›¾ç‰‡" loading="lazy"></figure>
<ul>
<li>æ ¹æ®è¡Œå·åˆ é™¤è¿‡æ»¤è§„åˆ™ï¼ˆå…³é—­8080ç«¯å£ï¼‰ï¼š</li>
</ul>
<pre><code>iptables -D INPUT 1
å¤åˆ¶ä»£ç 
</code></pre>
<figure data-type="image" tabindex="15"><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/6/13/16b511810fc14ec7~tplv-t2oaga2asx-watermark.awebp" alt="å±•ç¤ºå›¾ç‰‡" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mysql ä¸»ä»é…ç½®]]></title>
        <id>https://CaoCan888.github.io/post/mysql-zhu-cong-pei-zhi/</id>
        <link href="https://CaoCan888.github.io/post/mysql-zhu-cong-pei-zhi/">
        </link>
        <updated>2022-01-14T08:41:10.000Z</updated>
        <content type="html"><![CDATA[<p><strong>1.é›†ç¾¤ç¯å¢ƒå¦‚ä¸‹ï¼š</strong></p>
<figure data-type="image" tabindex="1"><img src="C:%5CUsers%5Cxforce%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220107143424229.png" alt="image-20220107143424229" loading="lazy"></figure>
<p><strong>2.mysqlæ•°æ®å®‰è£…</strong></p>
<p>è‡ªè¡Œå®‰è£…</p>
<p><strong>3.Master(51)èŠ‚ç‚¹é…ç½®</strong></p>
<p><em>(1) ä¿®æ”¹my.cnfæ–‡ä»¶ï¼Œåœ¨[mysqld]åŠ å…¥ä¸‹é¢çš„å†…å®¹ï¼š</em></p>
<pre><code>\# æœåŠ¡çš„å”¯ä¸€ç¼–å·

server-id= 1

\# å¼€å¯mysql binlogåŠŸèƒ½

log-bin= mysql-bin

\# binlogè®°å½•å†…å®¹çš„æ–¹å¼ï¼Œè®°å½•è¢«æ“ä½œçš„æ¯ä¸€è¡Œ

binlog_format= ROW

\# å‡å°‘è®°å½•æ—¥å¿—çš„å†…å®¹ï¼Œåªè®°å½•å—å½±å“çš„åˆ—

binlog_row_image= minimal

\# æŒ‡å®šéœ€è¦å¤åˆ¶çš„æ•°æ®åº“åä¸ºzhognnan,ä¸»åº“ä»åº“å¿…é¡»ä¸€æ ·

binlog-do-db= zhognnan
</code></pre>
<p><em>(2)ä¿®æ”¹å¥½é…ç½®æ–‡ä»¶ï¼Œé‡å¯mysqlæœåŠ¡</em></p>
<pre><code>servicemysql restart

or

service mysql restart
</code></pre>
<p><em>(3)åˆ›å»ºä»åº“åŒæ­¥æ•°æ®çš„è´¦å·</em></p>
<p>ç™»å½•mysqlå®¢æˆ·ç«¯ï¼š</p>
<pre><code>./mysql -u root â€“ppassword
</code></pre>
<p>ç„¶åæ·»åŠ ä¸€ä¸ªç”¨æˆ·ã€ç”¨äºåœ¨ä»åº“ä¸»æœºä¸­ç™»å½•è¿›è¡ŒåŒæ­¥ã€‘:</p>
<pre><code>create user 'replicate'@'%' identified by 'replicate';
</code></pre>
<p>å†å¯¹è¯¥ç”¨æˆ·æˆäºˆå¤åˆ¶æƒé™ï¼š</p>
<pre><code>grant replication slave on *.* to 'replicate'@'%';
</code></pre>
<p>ä½¿æ‰§è¡Œç”Ÿæ•ˆï¼š</p>
<pre><code>flush privileges;
</code></pre>
<figure data-type="image" tabindex="2"><img src="C:%5CUsers%5Cxforce%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220107143810096.png" alt="image-20220107143810096" loading="lazy"></figure>
<p><em>(4)æŸ¥çœ‹ä¸€ä¸‹ä¸»åº“çš„çŠ¶æ€</em></p>
<pre><code>show master status\G;
</code></pre>
<figure data-type="image" tabindex="3"><img src="C:%5CUsers%5Cxforce%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220107143849983.png" alt="image-20220107143849983" loading="lazy"></figure>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœæ²¡æœ‰ä¸Šé¢ç¬¬3æ­¥æ“ä½œï¼Œæ‰§è¡Œshow master status \G;ä¼šæŠ¥é”™</p>
<p>fileï¼šè¡¨ç¤ºåŒæ­¥çš„bin-logä¿¡æ¯ä»å“ªä¸ªæ–‡ä»¶å¼€å§‹ï¼›</p>
<p>positionï¼šè¡¨ç¤ºä»fileçš„å“ªä¸ªä½ç½®å¼€å§‹ï¼›</p>
<p>binlog_do_dbï¼šè¡¨ç¤ºåŒæ­¥å“ªä¸€ä¸ªåº“</p>
<p>åœ¨åé¢çš„slaveé…ç½®ä¸­ï¼Œè¿™ä¸‰ä¸ªç»“æœéƒ½éœ€è¦ä½¿ç”¨åˆ°ã€‚</p>
<p><strong>4.Slave(52)èŠ‚ç‚¹é…ç½®</strong></p>
<p>é…ç½®ä»åº“</p>
<p><em>(1)ä¿®æ”¹my.cnfæ–‡ä»¶ï¼Œåœ¨[mysqld]åŠ å…¥ä¸‹é¢çš„å†…å®¹ï¼š</em></p>
<pre><code>\# æœåŠ¡çš„å”¯ä¸€ç¼–å·

server-id= 2

\# å¼€å¯mysql binlogåŠŸèƒ½

log-bin= mysql-bin

\# binlogè®°å½•å†…å®¹çš„æ–¹å¼ï¼Œè®°å½•è¢«æ“ä½œçš„æ¯ä¸€è¡Œ

binlog_format= ROW

\# å‡å°‘è®°å½•æ—¥å¿—çš„å†…å®¹ï¼Œåªè®°å½•å—å½±å“çš„åˆ—

binlog_row_image= minimal

\# æŒ‡å®šéœ€è¦å¤åˆ¶çš„æ•°æ®åº“åä¸ºzhongnan

replicate-do-db= zhongnan
</code></pre>
<p><em>(2)ä¿®æ”¹å¥½é…ç½®æ–‡ä»¶ï¼Œé‡å¯mysqlæœåŠ¡</em></p>
<pre><code>servicemysql restart

or

service mysql restart
</code></pre>
<p><em>(3)æ‰§è¡ŒåŒæ­¥å‘½ä»¤</em></p>
<p>ç™»å½•mysqlå®¢æˆ·ç«¯ï¼š</p>
<pre><code>./mysql -u root â€“ppassword
</code></pre>
<p>ç»™ä»è®¾ç½®ä¸»æœåŠ¡å™¨ipï¼ŒåŒæ­¥è´¦å·å¯†ç ï¼ŒåŒæ­¥ä½ç½®</p>
<pre><code>change master to master_host='172.10.14.51',master_port=3306,master_user='replicate',master_password='replicate',master_log_file='mysql-bin.000001',master_log_pos=749;
</code></pre>
<p>å‘½ä»¤éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼šmaster_log_file å’Œmaster_log_pos 2ä¸ªå±æ€§å†…å®¹ï¼Œè¿™2ä¸ªå±æ€§æ˜¯åˆšæ‰ä¸»æœåŠ¡å™¨ä¸Šæ‰§è¡Œshow master status\G;æŸ¥è¯¢å‡ºæ¥çš„å†…å®¹ã€‚</p>
<figure data-type="image" tabindex="4"><img src="C:%5CUsers%5Cxforce%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220107143849983.png" alt="image-20220107143849983" loading="lazy"></figure>
<p>(3) å¼€å¯ä»æœºè§’è‰²çš„</p>
<pre><code>start slave;
</code></pre>
<figure data-type="image" tabindex="5"><img src="C:%5CUsers%5Cxforce%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220107144303006.png" alt="image-20220107144303006" loading="lazy"></figure>
<p>(4)æŸ¥çœ‹ä»åº“çš„çŠ¶æ€</p>
<pre><code>show slave status\G;
</code></pre>
<p>è¿”å›ä¿¡æ¯ä¸º</p>
<figure data-type="image" tabindex="6"><img src="C:%5CUsers%5Cxforce%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220107144343450.png" alt="image-20220107144343450" loading="lazy"></figure>
<p>å½“ï¼šSlave_IO_Runningå’ŒSlave_SQL_Runningçš„çŠ¶æ€éƒ½ä¸ºYesæ—¶ï¼Œè¯´æ˜ä»åº“é…ç½®æˆåŠŸã€‚</p>
<p>4.æµ‹è¯•éªŒè¯</p>
<p>åœ¨ä¸»åº“ä¸­åˆ›å»ºæ•°æ®åº“å’Œè¡¨,å‘ç°æ•°æ®å·²ç»è¿›è¡Œäº†åŒæ­¥ã€‚</p>
<p>è‡³æ­¤ï¼Œmysqlçš„ä¸»å¤‡å·²ç»æ­å»ºå®Œæ¯•ã€‚</p>
<p><strong>6ã€æ‰©å±•</strong></p>
<p>é—®é¢˜1ï¼šä¸Šè¿°ä»‹ç»çš„æ˜¯å¤‡ä»½æŸä¸ªåº“çš„æ“ä½œï¼Œå¦‚æœéœ€è¦å¤‡ä»½å¤šä¸ªåº“åˆ™ç›´æ¥åœ¨masterçš„my.cnfä¸­æ·»åŠ æ–°çš„ä¸€è¡Œbinlog-do-db=test_2ç­‰ç­‰å³å¯ã€‚è¿™è¡Œä»£ç çš„æ„æ€æ˜¯æŒ‡ï¼šåŒæ­¥è¯¥åº“ï¼ˆtest_2ï¼‰çš„bin-logä¿¡æ¯ã€‚</p>
<p>é—®é¢˜2ï¼šè¿™ç§ç›´æ¥ä¿®æ”¹masterèŠ‚ç‚¹çš„my.cnfæ–‡ä»¶å»åŒæ­¥æŸä¸ªåº“ï¼Œéœ€è¦é‡å¯masteræ‰èƒ½è®©æ•´ä¸ªmysqlé›†ç¾¤å·¥ä½œï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥æ­å»ºå¤‡åº“ï¼Œä½†æ˜¯ä¸éœ€è¦é‡å¯masterï¼Ÿ</p>
<p>æ˜¾ç„¶æ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡è¿™æ¬¡å¤‡ä»½çš„åº“æ˜¯masterçš„å…¨éƒ¨åº“äº†ï¼ˆå› ä¸ºæ²¡æœ‰æŒ‡å®šå…·ä½“åº“çš„bin-logï¼‰ï¼Œ æ‰€ä»¥é»˜è®¤å°±æŠŠå…¨éƒ¨çš„bin-logéƒ½åŒæ­¥äº†ã€‚å¯ä»¥å‚è€ƒå¦‚ä¸‹çš„æ­¥éª¤ï¼š</p>
<p>step 1ï¼šå¯¼å‡ºMasterèŠ‚ç‚¹ä¸­æ‰€æœ‰çš„æ•°æ®åº“</p>
<p>mysqldump -uroot -A --routines --single-transaction --master-data=2 &gt; /data1/mysqldump/alldatabases.sql</p>
<p>å‚æ•°æ³¨é‡Šï¼š</p>
<p>-Aï¼šå¯¼å‡ºæ‰€æœ‰åº“çš„æ•°æ®</p>
<p>--routines Dump stored routines (procedures and functions) from dumped databases</p>
<p>--single-transaction Issue a BEGIN SQL statement before dumping data from server</p>
<p>--master-data Write the binary log file name and position to the output</p>
<p>è¿™é‡Œæ·»åŠ optionï¼š--master-dataä¹‹åï¼Œå°±å¯ä»¥ä¸å†ä½¿ç”¨show master status\G;å»æŸ¥çœ‹bin-logçš„fileå’Œpositionäº†ã€‚</p>
<p>step 2ï¼š</p>
<p>å°†ä¸Šè¿°çš„sqlæ–‡ä»¶å¯¼å…¥åˆ°å¤‡åº“ä¸­ã€‚</p>
<p>step 3ï¼š</p>
<p>å…¶ä½™æ­¥éª¤åŒä¸Šè¿°å†…å®¹ã€åœ¨masterä¸Šåˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶æˆæƒï¼Œç„¶ååˆ·æ–°ã€‘ï¼›åœ¨slaveä¸Šæ‰§è¡Œchangeæ“ä½œã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æµ‹è¯•]]></title>
        <id>https://CaoCan888.github.io/post/ce-shi/</id>
        <link href="https://CaoCan888.github.io/post/ce-shi/">
        </link>
        <updated>2021-11-03T06:26:33.000Z</updated>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://CaoCan888.github.io/post/hello-gridea/</id>
        <link href="https://CaoCan888.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>